# TODO

- [x] Fix chroot detection
    - [x] Check for "/" permission
    - [x] Check for "/proc/1/root/" permission
    - [x] Check for overlayfs
    - [x] Compare "/" with "/proc/PID/root" (device and inode #)
- [x] Fix live device checking "/run/initramfs/livedev"
- [x] Rename wlog import to just log, use log2 for log
- [ ] Fix state tracking
    - [x] Implement data structure for storing State
        - [x] Place scanned files into data structure
        - [x] Merge multiple structures
        - [x] Diff structures
        - [x] Search for files by prefix
        - [x] Filter files within the structure
        - [x] Convert map to a list of strings
    - [ ] Run for files with a newer mtime
        - [ ] Log mtime for examined files
    - [ ] Run for triggers with a newer mtime
        - [ ] Log mtime for triggers (re-run if the trigger modified)
- [x] Add binary output on failure
- [x] Make sure that triggers without a replaces don't execute multiple times
- [ ] Add Dependency System
    - [ ] Modify the TOML format
    - [ ] Build a dependency graph
    - [ ] Depth-first traversal of the dependency graph
    - [ ] Missing dependencies should warn, but not fail
